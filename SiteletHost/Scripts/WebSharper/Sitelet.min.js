(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m;$.Define($$,{Sitelet:{Highlight:{Client:{clearBtn:function(){var n,o,p,q,r,s;n=(o=c.Button(d.ofArray([c.Attr().Class("btn btn-default btn-lg"),(p=c.Attr(),p.NewAttr("id","clear-btn"))])),(q=c.Text("Clear"),e.add(o,d.ofArray([q]))));r=(s=function(){return function(){return f("#code").val("").focus();};},function(v){return g.Events().OnClick(s,v);});r(n);return n;},handleHighlight:function(w){var y,z,Y;y=h.Delay((z=function(){var B,C,E,F,G,H,I,J,L,M;B=w["HtmlProvider@32"];C=w.Body;(function(D){return B.SetAttribute(C,"disabled",D);}("disabled"));E=f("#progress-bar");E.show();F=f("#html");G=f("#html-preview-tab");F.val("");G.html("");H=(I=f("#code").val(),(J=function(K){return $$.String(K);},J(I)));L=i.Async("Sitelet:0",[H]);M=function(N){var O,P,R,S,W;E.hide();O=N.$==1?(P=N.$0,(F.val(P).click(function(){return F.select();}),(G.html(P),h.Return(null)))):(j("An error occured."),h.Return(null));R=(S=function(){var U,V;U=w["HtmlProvider@32"];V=w.Body;U.RemoveAttribute(V,"disabled");return h.Return(null);},h.Delay(S));W=function(){return R;};return h.Bind(O,W);};return h.Bind(L,M);},z));Y={$:0};return h.Start(y);},highlightBtn:function(){var Z,_0,_1,_2,_3;Z=(_0=c.Button(d.ofArray([c.Attr().Class("btn btn-primary btn-lg")])),(_1=c.Text("Highlight"),e.add(_0,d.ofArray([_1]))));_2=(_3=function(_4){return function(_5){return m.handleHighlight(_4,_5);};},function(_6){return g.Events().OnClick(_3,_6);});_2(Z);return Z;},main:function(){return c.Div(d.ofArray([m.highlightBtn(),m.clearBtn()]));}},Control:$.Class({get_Body:function(){return m.main();}})}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Html);c=$.Safe(b.Default);d=$.Safe(a.List);e=$.Safe(b.Operators);f=$.Safe($$.jQuery);g=$.Safe(b.EventsPervasives);h=$.Safe(a.Concurrency);i=$.Safe(a.Remoting);j=$.Safe($$.alert);k=$.Safe($$.Sitelet);l=$.Safe(k.Highlight);return m=$.Safe(l.Client);});$.OnLoad(function(){});}());
